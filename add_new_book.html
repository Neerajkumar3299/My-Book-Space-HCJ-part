<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Store</title>

    <!-- Font-Awesome Link -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <!-- Image Icon in Search Bar -->
    <link rel="icon"
        href="data:image/png;base64,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"
        type="image/x-icon">

    <!-- Import CSS File -->
    <link rel="stylesheet" href="css/add_new_book.css">
</head>

<body>
    <div class="container">

        <!-- Header Part -->
        <div class="header">
            <div class="logo">
                <img src="https://cdn.iconscout.com/icon/premium/png-256-thumb/bookstore-2579193-2148813.png"
                    alt="logo-image">
                <a href="https://neerajkumar3299.github.io/My-Book-Space-HCJ-part/">
                    <h2>Ny.BookStore</h2>
                </a>
            </div>
            <div class="search_bar">
                <form>
                    <input type="text" placeholder="search book" name="book" />
                    <button class="btn">Search</button>
                </form>
            </div>
        </div>


        <!-- Section Part -->
        <div class="section">
            <div class="form">
                <form onsubmit="return false">
                    <input type="text" name="image_link" id="image_link" placeholder="paste image link here">
                    <input type="text" name="book_name" id="book_name" placeholder="Enter Book Name">
                    <input type="text" name="sub_name" id="sub_name" placeholder="Subject name">
                    <input type="text" name="author_name" id="author_name" placeholder="Enter author name">
                    <input type="text" name="download_link" id="download_link" placeholder="Paste here download link">
                    <button onclick="return insertData()">Submit</button>
                </form>
            </div>
        </div>

        <!-- Footer - Section -->
        <div class="footer">
            <div class="footer-part" id="left">
                <h3>Follow Us</h3>
                <hr>
                <a href="https://www.instagram.com/neerajyadav470/"><i class="fab fa-instagram"></i></a>
                <a href=""><i class="fab fa-twitter"></i></a>
                <a href="https://www.facebook.com/profile.php?id=100027739233310"> <i class="fab fa-facebook"></i></a>
                <a href="https://www.linkedin.com/in/neerajkumar-yadav-503536218/"><i class="fab fa-linkedin"></i></a>
            </div>
            <div class="footer-part" id="middle">
                <h3>My Details</h3>

                <hr>
                <div class="part">
                    <i class="fas fa-phone"></i><span><a href="tel:9565439966">Call me at +9565439966</a></span>
                </div>
                <div class="part">
                    <i class="fas fa-envelope-square"></i><span><a
                            href="mailto:ny587227@gmail.com?subject = Feedback&body = Message">
                            Mail Me
                        </a></span>
                </div>
                <div class="part">
                    <i class="fas fa-street-view"></i><span>Dahisar(E), Mumbai, Maharastra-400068</span>
                </div>

            </div>
            <div class="footer-part" id="right">
                <h3>Contact Us</h3>
                <hr>
                <div class="contact-us">
                    <form>
                        <input type="text" placeholder="Enter Your name">
                        <input type="email" placeholder="Enter Email id">
                        <textarea type="text" placeholder="Write Message"></textarea>

                        <button>Send me</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
    </div>

    <!-- Script Part -->
    <script>
        
api_url="https://mypersonalbookstore2022.herokuapp.com/book_list"

function printData(data){
    let table=document.getElementById("tbody");
    var output_str=""
    for(let i=0;i<data.length;i++){
        output_str=output_str+`<tr>`
        output_str=output_str+`<td> <img src='${data[i]['book_image_link']}' alt=book-image/></td>`
        output_str=output_str+`<td> ${data[i]['book_name']}</td>`
        output_str=output_str+`<td> ${data[i]['sub_name']}</td>`
        output_str=output_str+`<td> ${data[i]['author']}</td>`
        output_str=output_str+`<td> <a href='${data[i]['download_link']}'>download</a></td>`
        output_str=output_str+`<td><button onclick=updateData('${data[i]._id}')><i class="fas fa-pen"></i></button><button onclick=deleteData('${data[i]._id}')><i class="fas fa-trash-alt" ></i></button></td>`
        output_str=output_str+`</tr>`
    }
    
    table.innerHTML=output_str
}
function getData(){
    console.log("Hello Neeraj kumar How are you!!")
    fetch(api_url)
    .then((data)=>data.json())
    .then((data)=>{
        printData(data)
    })
}
getData()
function insertData(){
    let image_link=document.getElementById("image_link").value
    let book_name=document.getElementById("book_name").value
    let sub_name=document.getElementById("sub_name").value
    let author_name=document.getElementById("author_name").value
    let download_link=document.getElementById("download_link").value
    
    data={
        book_image_link:image_link,
        book_name:book_name,
        sub_name:sub_name,
        author:author_name,
        download_link:download_link
    }
    options={
        "method":"POST",
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
          },
          body:JSON.stringify(data)
    }
    fetch(api_url,options)
    .then((response)=>response.json())
    .then((data)=>{
        console.log(data)
        window.location.href = "https://neerajkumar3299.github.io/My-Book-Space-HCJ-part/book_list.html";
        
    })
}

function deleteData(id){
    options={
        method:"DELETE",
        headers:{
            'Accept':'application/json',
            'Content-Type':'application/json',
        },
        body:JSON.stringify({'_id':id})
    }
    fetch(api_url,options)
    .then((response)=>response.json())
    .then((data)=>{
        console.log(data)
        window.location.reload(true);
    })
}

function updateData(id){
    console.log(id+"Update")
}

    </script>
</body>

</html>